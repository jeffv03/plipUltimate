# plipUltimate
plipUltimate is AVR-based device used to connect classic Amigas via Ethernet to the network. Additionally, it serves as SD card reader and includes self-updater. This project is based on [PlipBox](https://github.com/cnvogelg/plipbox).

Released under the GNU Public License V2 (see LICENSE and AUTHORS for details).

Currently IP traffic is done in bridge mode - packets are generated by Amiga's network stack and sent to interface using PLIP protocol. Since AVR CPU may run as fast as 20MHz, there is a room for improvement by moving generic packet generation to AVR. SD card reader support is yet to be added.

Both projects are released under GPLv2 license.

## Releases

See [Releases page](https://github.com/tehKaiN/plipUltimate/releases).

**Read `release notes.txt` included in release before doing anything else, otherwise you may end up very frustrated with broken pile of electronics.**

All releases consists of:

- KiCad project files: use these to generate your own gerbers,
- Gerber files: use these to order PCB from fab house,
- `amiga-sw` folder containing all prebuilt Amiga software,
- `avr-bin` folder containing prebuilt AVR .hex file,
- `changelog.txt` listing changes between releases,
- `release notes.txt` file containing important notes regarding current release.

## Assembling device

Unlike PlipBox, this project uses it's own custom PCB. Because of track pitches and vias, it is strongly advised to send Gerbers to board house.

After assembling device, you will need to program AVR with attached .hex file using on-board ISP header. Use programmer of your choice. I tend to use cheap Arduino clone as programmer (see [ArduinoISP](https://www.arduino.cc/en/Tutorial/ArduinoISP)). 

Flashing from release is done as follows:  
```
avrdude -V -p m328p -c arduino -b 19200 -PCOM3 -Uflash:w:"avr-bin\plipUltimate.hex":i -Uflash:w:"avr-bin\avr-bootloader.hex":i -Ueeprom:w:"avr-bin\plipUltimate.eep":i -U lfuse:w:"avr-bin\plipUltimate.lfs":i -U hfuse:w:"avr-bin\plipUltimate.hfs":i -U efuse:w:"avr-bin\plipUltimate.efs":i -U lock:w:"avr-bin\plipUltimate.lock":i
```
Whereas from repository:  
```
avrdude -V -p m328p -c arduino -b 19200 -PCOM3 -Uflash:w:"avr\bin\Debug\plipUltimate.hex":i -Uflash:w:"avr-bootloader\bin\Debug\avr-bootloader.hex":i -Ueeprom:w:"avr\bin\Debug\plipUltimate.eep":i -U lfuse:w:"avr\bin\Debug\plipUltimate.lfs":i -U hfuse:w:"avr\bin\Debug\plipUltimate.hfs":i -U efuse:w:"avr\bin\Debug\plipUltimate.efs":i -U lock:w:"avr\bin\Debug\plipUltimate.lock":i
```
Where `-c arduino` is your ISP type and `-PCOM3` is your ISP's COM port.

## Amiga configuration

Since Amiga software is still same as in plipBox, it's configuration steps are exactly the same. You can find details [here](https://github.com/cnvogelg/plipbox/blob/master/doc/src/amiga.md).

## Updates

plipUltimate may be updated using plipTool. Internet service providing latest update files is yet to be established.
